<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nidaba package &mdash; nidaba 0.9.6
 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.6
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="nidaba 0.9.6
 documentation" href="../index.html" />
    <link rel="up" title="nidaba" href="modules.html" />
    <link rel="next" title="nidaba.algorithms package" href="nidaba.algorithms.html" />
    <link rel="prev" title="nidaba" href="modules.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nidaba-package">
<h1>nidaba package<a class="headerlink" href="#nidaba-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nidaba.algorithms.html">nidaba.algorithms package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nidaba.algorithms.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.algorithms.html#module-nidaba.algorithms.otsu">nidaba.algorithms.otsu module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.algorithms.html#nidaba-algorithms-otsu">nidaba.algorithms.otsu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.algorithms.html#module-nidaba.algorithms.string">nidaba.algorithms.string module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.algorithms.html#nidaba-algorithms-string">nidaba.algorithms.string</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.algorithms.html#module-nidaba.algorithms">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nidaba.contrib.html">nidaba.contrib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nidaba.contrib.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.contrib.html#module-nidaba.contrib.mkdict">nidaba.contrib.mkdict module</a></li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.contrib.html#module-nidaba.contrib">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nidaba.plugins.html">nidaba.plugins package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#module-nidaba.plugins.kraken">nidaba.plugins.kraken module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#nidaba-plugins-kraken">nidaba.plugins.kraken</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#module-nidaba.plugins.leptonica">nidaba.plugins.leptonica module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#nidaba-plugins-leptonica">nidaba.plugins.leptonica</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#module-nidaba.plugins.ocropus">nidaba.plugins.ocropus module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#nidaba-plugins-ocropus">nidaba.plugins.ocropus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#module-nidaba.plugins.tesseract">nidaba.plugins.tesseract module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#nidaba-plugins-tesseract">nidaba.plugins.tesseract</a></li>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.plugins.html#module-nidaba.plugins">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.plugins.html#nidaba-plugins">nidaba.plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nidaba.tasks.html">nidaba.tasks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.binarize">nidaba.tasks.binarize module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-binarize">nidaba.tasks.binarize</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.helper">nidaba.tasks.helper module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-helper">nidaba.tasks.helper</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.img">nidaba.tasks.img module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-img">nidaba.tasks.img</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.output">nidaba.tasks.output module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-output">nidaba.tasks.output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.postprocessing">nidaba.tasks.postprocessing module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-postprocessing">nidaba.tasks.postprocessing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.stats">nidaba.tasks.stats module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-stats">nidaba.tasks.stats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks.util">nidaba.tasks.util module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks-util">nidaba.tasks.util</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nidaba.tasks.html#module-nidaba.tasks">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nidaba.tasks.html#nidaba-tasks">nidaba.tasks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nidaba.api">
<span id="nidaba-api-module"></span><h2>nidaba.api module<a class="headerlink" href="#module-nidaba.api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-api">
<h3>nidaba.api<a class="headerlink" href="#nidaba-api" title="Permalink to this headline">¶</a></h3>
<p>Exposes the functionality of the <code class="docutils literal"><span class="pre">SimpleBatch</span></code> class using a restful
interface.</p>
<p>For a documentation of the interface see the <a class="reference internal" href="../api.html#api"><span>API docs</span></a>.</p>
<dl class="class">
<dt id="nidaba.api.Batch">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">Batch</code><a class="headerlink" href="#nidaba.api.Batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.Batch.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'batch'</em><a class="headerlink" href="#nidaba.api.Batch.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.Batch.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>batch_id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Batch.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the state of batch <em>batch_id</em>.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /batch/:batch_id
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>batch_id</strong> (<a class="reference internal" href="nidaba.algorithms.html#module-nidaba.algorithms.string" title="nidaba.algorithms.string"><em>string</em></a>) &#8211; batch identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 200:</th><td class="field-body">No error</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status 404:</th><td class="field-body">No such batch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.api.Batch.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Batch.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.Batch.methods">
<code class="descname">methods</code><em class="property"> = ['GET', 'POST']</em><a class="headerlink" href="#nidaba.api.Batch.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.Batch.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>batch_id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Batch.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes batch with identifier <em>batch_id</em></p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>POST /batch/:batch_id
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">ACCEPTED</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>batch_id</strong> (<a class="reference internal" href="nidaba.algorithms.html#module-nidaba.algorithms.string" title="nidaba.algorithms.string"><em>string</em></a>) &#8211; batch&#8217;s unique id</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 202:</th><td class="field-body">Successfully executed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status 400:</th><td class="field-body">Batch could not be executed</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 404:</th><td class="field-body">No such batch</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status 409:</th><td class="field-body">Trying to reexecute an already executed batch</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.api.BatchCreator">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">BatchCreator</code><a class="headerlink" href="#nidaba.api.BatchCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.BatchCreator.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'batchcreator'</em><a class="headerlink" href="#nidaba.api.BatchCreator.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchCreator.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchCreator.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.BatchCreator.methods">
<code class="descname">methods</code><em class="property"> = ['POST']</em><a class="headerlink" href="#nidaba.api.BatchCreator.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchCreator.post">
<code class="descname">post</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchCreator.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new batch and returns it identifier.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>POST /batch
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>

{
    &quot;id&quot;: &quot;78a1f1e4-cc76-40ce-8a98-77b54362a00e&quot;,
    &quot;url&quot;: &quot;/batch/78a1f1e4-cc76-40ce-8a98-77b54362a00e&quot;
}
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Status 201:</th><td class="field-body">Successfully created</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.api.BatchPages">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">BatchPages</code><a class="headerlink" href="#nidaba.api.BatchPages" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.BatchPages.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'batchpages'</em><a class="headerlink" href="#nidaba.api.BatchPages.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchPages.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>batch_id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchPages.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of pages associated with the batch with <em>batch_id</em>.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /batch/:batch/pages
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

[
    {
        &quot;name&quot;: &quot;0033.tif&quot;,
        &quot;url&quot;: &quot;/pages/63ca3ec7-2592-4c7d-9009-913aac42535d/0033.tif&quot;
    },
    {
        &quot;name&quot;: &quot;0072.tif&quot;,
        &quot;url&quot;: &quot;/pages/63ca3ec7-2592-4c7d-9009-913aac42535d/0072.tif&quot;
    },
    {
        &quot;name&quot;: &quot;0014.tif&quot;,
        &quot;url&quot;: &quot;/pages/63ca3ec7-2592-4c7d-9009-913aac42535d/0014.tif&quot;
    }
]
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Status 200:</th><td class="field-body">success</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 404:</th><td class="field-body">batch not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchPages.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchPages.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.BatchPages.methods">
<code class="descname">methods</code><em class="property"> = ['GET', 'POST']</em><a class="headerlink" href="#nidaba.api.BatchPages.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.BatchPages.parser">
<code class="descname">parser</code><em class="property"> = &lt;flask_restful.reqparse.RequestParser object&gt;</em><a class="headerlink" href="#nidaba.api.BatchPages.parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchPages.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>batch_id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchPages.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a page (really any type of file) to the batch identified by
<em>batch_id</em>.</p>
<p>** Request **</p>
<blockquote>
<div>POST /batch/:batch/pages</div></blockquote>
<p>** Response **</p>
<blockquote>
<div><p>HTTP/1.1 201 OK</p>
<dl class="docutils">
<dt>[</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd>&#8220;name&#8221;: &#8220;0033.tif&#8221;,
&#8220;url&#8221;: &#8220;/pages/63ca3ec7-2592-4c7d-9009-913aac42535d/0033.tif&#8221;</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Form scans:</th><td class="field-body">file(s) to add to the batch</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 201:</th><td class="field-body">task created</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status 403:</th><td class="field-body">file couldn&#8217;t be created</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 404:</th><td class="field-body">batch not found</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.api.BatchTasks">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">BatchTasks</code><a class="headerlink" href="#nidaba.api.BatchTasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.BatchTasks.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'batchtasks'</em><a class="headerlink" href="#nidaba.api.BatchTasks.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchTasks.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>batch_id</em>, <em>group=None</em>, <em>task=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchTasks.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the list of tasks and their argument values associated with a
batch, optionally limited to a specific group.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /batch/:batch_id/tasks
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    &quot;segmentation&quot;: [
        [&quot;tesseract&quot;, {}]
    ],
    &quot;ocr&quot;: [
        [&quot;kraken&quot;,
            {
                &quot;model&quot;: &quot;teubner&quot;,
            }
        ]
    ]
}
</pre></div>
</div>
<p>To limit output to a specific group of tasks, e.g. segmentation or
binarization append the group to the URL:</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /batch/:batch_id/tasks/:group
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    &#39;group&#39;: [
        [&quot;tesseract&quot;, {}],
        [&quot;kraken&quot;, {}]
    ]
}
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Status 200:</th><td class="field-body">success</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 404:</th><td class="field-body">batch, group, or task not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchTasks.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchTasks.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.BatchTasks.methods">
<code class="descname">methods</code><em class="property"> = ['GET', 'POST']</em><a class="headerlink" href="#nidaba.api.BatchTasks.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.BatchTasks.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>batch_id</em>, <em>group=None</em>, <em>task=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.BatchTasks.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a particular configuration of a task to the batch identified by
<em>batch_id</em>.</p>
<p>** Request **</p>
<blockquote>
<div><p>POST /batch/:batch_id/:group/:task</p>
<dl class="docutils">
<dt>{</dt>
<dd>kwarg_1: &#8220;value&#8221;,
kwarg_2: 10,
kwarg_3: &#8216;true&#8217;,
kwarg_4: [&#8220;a&#8221;, &#8220;b&#8221;],
kwarg_5: &#8216;/pages/:batch_id/path&#8217;</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
</pre></div>
</div>
<p>To post files as arguments use their URL returned by the call that
created them on the batch. Booleans are strings containing either the
values &#8216;True&#8217;/&#8217;true&#8217; or &#8216;False&#8217;/&#8217;false&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Status 201:</th><td class="field-body">task created</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 404:</th><td class="field-body">batch, group, or task not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.api.Page">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">Page</code><a class="headerlink" href="#nidaba.api.Page" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.Page.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'page'</em><a class="headerlink" href="#nidaba.api.Page.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.Page.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>batch</em>, <em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Page.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the file at <em>file</em> in batch <em>batch</em>.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /pages/:batch/:path
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/octet-stream</span>

...
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>batch</strong> (<em>str</em>) &#8211; batch&#8217;s unique id</li>
<li><strong>file</strong> (<em>path</em>) &#8211; path to the batch&#8217;s file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Status 200:</th><td class="field-body"><p class="first">No error</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status 404:</th><td class="field-body"><p class="first last">File not found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.api.Page.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Page.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.Page.methods">
<code class="descname">methods</code><em class="property"> = ['GET']</em><a class="headerlink" href="#nidaba.api.Page.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.api.Task">
<em class="property">class </em><code class="descclassname">nidaba.api.</code><code class="descname">Task</code><a class="headerlink" href="#nidaba.api.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">flask_restful.Resource</span></code></p>
<dl class="attribute">
<dt id="nidaba.api.Task.endpoint">
<code class="descname">endpoint</code><em class="property"> = 'task'</em><a class="headerlink" href="#nidaba.api.Task.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.api.Task.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>group=None</em>, <em>task=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Task.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the list of available tasks, their arguments and valid values
for those arguments.</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /tasks
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    &quot;img&quot;: {
        &quot;deskew&quot;: {},
        &quot;dewarp&quot;: {},
        &quot;rgb_to_gray&quot;: {}
    },
    &quot;binarize&quot;: {
        &quot;nlbin&quot;: {
            &quot;border&quot;: &quot;float&quot;,
            &quot;escale&quot;: &quot;float&quot;,
            &quot;high&quot;: [
                0,
                100
            ],
            &quot;low&quot;: [
                0,
                100
            ],
        },
        &quot;otsu&quot;: {},
        &quot;sauvola&quot;: {
            &quot;factor&quot;: [
                0.0,
                1.0
            ],
            &quot;whsize&quot;: &quot;int&quot;
        }
    },
    &quot;segmentation&quot;: {
        &quot;kraken&quot;: {},
        &quot;tesseract&quot;: {}
    },
    &quot;ocr&quot;: {
        &quot;kraken&quot;: {
            &quot;model&quot;: [
                &quot;fraktur.pyrnn.gz&quot;,
                &quot;default&quot;,
                &quot;teubner&quot;
            ]
        },
        &quot;tesseract&quot;: {
            &quot;extended&quot;: [
                false,
                true
            ],
            &quot;languages&quot;: [
                &quot;chr&quot;,
                &quot;chi_tra&quot;,
                &quot;ita_old&quot;,
                &quot;ceb&quot;,
            ]
        }
    },
    &quot;postprocessing&quot;: {
        &quot;spell_check&quot;: {
            &quot;filter_punctuation&quot;: [
                true,
                false
            ],
            &quot;language&quot;: [
                &quot;latin&quot;,
                &quot;polytonic_greek&quot;
            ]
        }
    },
    &quot;output&quot;: {
        &quot;metadata&quot;: {
            &quot;metadata&quot;: &quot;file&quot;,
            &quot;validate&quot;: [
                true,
                false
            ]
        },
        &quot;tei2hocr&quot;: {},
        &quot;tei2simplexml&quot;: {},
        &quot;tei2txt&quot;: {}
    }
}
</pre></div>
</div>
<p>It is also possible to retrieve only a subset of task definitions by
adding to the request a task group and/or the task name:</p>
<p>** Request **</p>
<div class="highlight-http"><div class="highlight"><pre>GET /tasks/segmentation
</pre></div>
</div>
<p>** Response **</p>
<div class="highlight-http"><div class="highlight"><pre><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    &quot;segmentation&quot;: {
        &quot;kraken&quot;: {},
        &quot;tesseract&quot;: {}
    }
}
</pre></div>
</div>
<p>Currently there are 4 different argument types:</p>
<blockquote>
<div><ul>
<li><p class="first">&#8220;int&#8221;: An integer</p>
</li>
<li><dl class="first docutils">
<dt>&#8220;float&#8221;: A float (floats serialized to integers, i.e. 1.0 to 1</dt>
<dd><p class="first last">are also accepted)</p>
</dd>
</dl>
</li>
<li><p class="first">&#8220;str&#8221;: An UTF-8 encoded string</p>
</li>
<li><p class="first">&#8220;file&#8221;: A file on the storage medium, referenced by its URL</p>
</li>
</ul>
</div></blockquote>
<p>Finally there are lists of valid argument values where one or more
values out of the list may be picked and value ranges</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.api.Task.mediatypes">
<code class="descname">mediatypes</code><span class="sig-paren">(</span><em>resource_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.Task.mediatypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.api.Task.methods">
<code class="descname">methods</code><em class="property"> = ['GET']</em><a class="headerlink" href="#nidaba.api.Task.methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="nidaba.api.create_app">
<code class="descclassname">nidaba.api.</code><code class="descname">create_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.create_app" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nidaba.api.get_blueprint">
<code class="descclassname">nidaba.api.</code><code class="descname">get_blueprint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.api.get_blueprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.celery">
<span id="nidaba-celery-module"></span><h2>nidaba.celery module<a class="headerlink" href="#module-nidaba.celery" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nidaba.cli">
<span id="nidaba-cli-module"></span><h2>nidaba.cli module<a class="headerlink" href="#module-nidaba.cli" title="Permalink to this headline">¶</a></h2>
<p>This module encapsulates all shell callable functions of nidaba.</p>
<dl class="function">
<dt id="nidaba.cli.conv_arg_string">
<code class="descclassname">nidaba.cli.</code><code class="descname">conv_arg_string</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.cli.conv_arg_string" title="Permalink to this definition">¶</a></dt>
<dd><p>A small helper function intended to coerce an input string to types in the
order int -&gt; float -&gt; bool -&gt; unicode -&gt; input. Also resolves lists of
these values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>unicode</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Input variable coerced
to the highest data type in the ordering.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int or float or unicode or original input type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.cli.help_tasks">
<code class="descclassname">nidaba.cli.</code><code class="descname">help_tasks</code><span class="sig-paren">(</span><em>ctx</em>, <em>param</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.cli.help_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nidaba.cli.move_to_storage">
<code class="descclassname">nidaba.cli.</code><code class="descname">move_to_storage</code><span class="sig-paren">(</span><em>batch</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.cli.move_to_storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes as dictionary of kwargs and moves the suffix of all keys starting
with the string &#8216;file:&#8217; to the storage medium, prepending a unique
identifier. The path components are rewritten in storage tuple form and the
modified dictionary is returned.</p>
<p>It is assumed that the filestore is already created.</p>
</dd></dl>

<dl class="function">
<dt id="nidaba.cli.spin">
<code class="descclassname">nidaba.cli.</code><code class="descname">spin</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.cli.spin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nidaba.cli.validate_definition">
<code class="descclassname">nidaba.cli.</code><code class="descname">validate_definition</code><span class="sig-paren">(</span><em>ctx</em>, <em>param</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.cli.validate_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates all task definitions of a group and returns them as a list.</p>
</dd></dl>

</div>
<div class="section" id="module-nidaba.config">
<span id="nidaba-config-module"></span><h2>nidaba.config module<a class="headerlink" href="#module-nidaba.config" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nidaba.config.reload_config">
<code class="descclassname">nidaba.config.</code><code class="descname">reload_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.config.reload_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers a global reloading of the configuration files and reinitializes
the redis connection pool.</p>
<p>As of now configuration files are only read from sys.prefix/etc/nidaba/.</p>
</dd></dl>

</div>
<div class="section" id="module-nidaba.image">
<span id="nidaba-image-module"></span><h2>nidaba.image module<a class="headerlink" href="#module-nidaba.image" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-image">
<h3>nidaba.image<a class="headerlink" href="#nidaba-image" title="Permalink to this headline">¶</a></h3>
<p>Common image processing functions encapsulating the PIL or pythonica image
interface to absolute file paths.</p>
<dl class="function">
<dt id="nidaba.image.otsu">
<code class="descclassname">nidaba.image.</code><code class="descname">otsu</code><span class="sig-paren">(</span><em>imagepath</em>, <em>resultpath</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.image.otsu" title="Permalink to this definition">¶</a></dt>
<dd><p>Binarizes an grayscale image using Otsu&#8217;s algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>imagepath</strong> &#8211; Path of the input image</li>
<li><strong>resultpath</strong> &#8211; Path of the output image</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Path of the actual output file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">unicode</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.image.rgb_to_gray">
<code class="descclassname">nidaba.image.</code><code class="descname">rgb_to_gray</code><span class="sig-paren">(</span><em>imagepath</em>, <em>resultpath</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.image.rgb_to_gray" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an RGB or CMYK image into a 8bpp grayscale image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>imagepath</strong> &#8211; Path of the input image</li>
<li><strong>resultpath</strong> &#8211; Path of the output image</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Path of the actual output file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">unicode</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.lex">
<span id="nidaba-lex-module"></span><h2>nidaba.lex module<a class="headerlink" href="#module-nidaba.lex" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-lex">
<h3>nidaba.lex<a class="headerlink" href="#nidaba-lex" title="Permalink to this headline">¶</a></h3>
<p>This module contains functions for dealing with words and dictionaries, such as
extracting words from texts, normalizing encodings, building symmetric deletion
dictionaries, etc.</p>
<dl class="function">
<dt id="nidaba.lex.cleanlines">
<code class="descclassname">nidaba.lex.</code><code class="descname">cleanlines</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.cleanlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in lines from a file and return them as a sanitized list.
Non-unique linse will be repeated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>unicode</em>) &#8211; Absolute path of the file to be read</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the file</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of lines containing the sanitized output, i.e. normalized
unicode objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.cleanuniquewords">
<code class="descclassname">nidaba.lex.</code><code class="descname">cleanuniquewords</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.cleanuniquewords" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in lines from a file as separated by lines and spaces,
convert them to the specified normalization, and return a set
of all unique words.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>unicode</em>) &#8211; Absolute path of the file to be read</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the file</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Set of unique tokens</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.cleanwords">
<code class="descclassname">nidaba.lex.</code><code class="descname">cleanwords</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.cleanwords" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in every word from a files as separated by lines and spaces.
Non-unique words will be repeated as they are read in. Detects only words
divided by a standard space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>unicode</em>) &#8211; Absolute path of the file to be read</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the file</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of words containing the sanitized output, i.e. normalized
unicode objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.make_deldict">
<code class="descclassname">nidaba.lex.</code><code class="descname">make_deldict</code><span class="sig-paren">(</span><em>outpath</em>, <em>words</em>, <em>depth</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.make_deldict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a symmetric deletion dictionary from the specified word list.</p>
<p>WARNING! This is a naive approach, which requires all the variants to be
stored in memory. For large dictionaries at higher depth, this can easily
use all available memory on most machines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outpath</strong> (<em>unicode</em>) &#8211; File path to write to</li>
<li><strong>words</strong> (<em>iterable</em>) &#8211; An iterable returning a single word per iteration</li>
<li><strong>depth</strong> (<em>int</em>) &#8211; Maximum edit distance to calculate</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.make_dict">
<code class="descclassname">nidaba.lex.</code><code class="descname">make_dict</code><span class="sig-paren">(</span><em>outpath</em>, <em>iterable</em>, <em>encoding=u'utf-8'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.make_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a file at outpath and write evrey object in iterable to its
own line. The file is opened in append mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outpath</strong> (<em>unicode</em>) &#8211; File path to write to</li>
<li><strong>iterable</strong> (<em>iterable</em>) &#8211; An iterable used as a data source</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.spellcheck">
<code class="descclassname">nidaba.lex.</code><code class="descname">spellcheck</code><span class="sig-paren">(</span><em>tokens</em>, <em>dictionary</em>, <em>deletion_dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.spellcheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a spell check on a sequence of tokens.</p>
<p>The spelling of each sequence of characters is compared against a
dictionary containing deletions of valid words and a dictionary of correct
words.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tokens</strong> (<em>iterable</em>) &#8211; An iterable returning sequences of unicode
characters.</li>
<li><strong>dictionary</strong> (<em>unicode</em>) &#8211; Path to a base dictionary.</li>
<li><strong>deletion_dictionary</strong> (<em>unicode</em>) &#8211; Path to a deletion dictionary.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary containing a sorted (least to highest edit distance) list
of suggestions for each character sequence that is not contained
verbatim in the dictionary. Tokens that are not recognized as valid
words but don&#8217;t have spelling suggestions either will be contained in
the result dictionary.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.tei_spellcheck">
<code class="descclassname">nidaba.lex.</code><code class="descname">tei_spellcheck</code><span class="sig-paren">(</span><em>facsimile</em>, <em>dictionary</em>, <em>deletion_dictionary</em>, <em>filter_punctuation=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.tei_spellcheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a spell check on an TEI XML document.</p>
<p>Each <code class="docutils literal"><span class="pre">seg</span></code> element is treated as a single word and spelling corrections
will be inserted using a choice tag. Correct words will be untouched and
correction candidates will be sorted by edit distance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>facsimile</strong> (<a class="reference internal" href="#nidaba.tei.TEIFacsimile" title="nidaba.tei.TEIFacsimile"><em>nidaba.tei.TEIFacsimile</em></a>) &#8211; TEIFacsimile object.</li>
<li><strong>dictionary</strong> (<em>unicode</em>) &#8211; Path to a base dictionary.</li>
<li><strong>deletion_dictionary</strong> (<em>unicode</em>) &#8211; Path to a deletion dictionary.</li>
<li><strong>filter_punctuation</strong> (<em>bool</em>) &#8211; Switch to filter punctuation inside
segments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A TEIFacsimile object containing the spelling corrections.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.unique_words_from_files">
<code class="descclassname">nidaba.lex.</code><code class="descname">unique_words_from_files</code><span class="sig-paren">(</span><em>dirpath</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.unique_words_from_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a set of unique words from a directory of text files.  All file in
the given directory will be parsed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirpath</strong> (<em>unicode</em>) &#8211; Absolute path of the directory to enter</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the files</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Set of words of all files in the directory</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.uniquewords_with_freq">
<code class="descclassname">nidaba.lex.</code><code class="descname">uniquewords_with_freq</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.uniquewords_with_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in every word from a file as separated by lines and spaces.
Return a counter (behaves like a dictionary) of unique words
along with the number of times they occurred.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>unicode</em>) &#8211; Absolute path of the file to be read</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the file</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Contains the frequency of each token</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Counter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.lex.words_from_files">
<code class="descclassname">nidaba.lex.</code><code class="descname">words_from_files</code><span class="sig-paren">(</span><em>dirpath</em>, <em>encoding=u'utf-8'</em>, <em>normalization=u'NFD'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lex.words_from_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary from a directory of text files.  All files in the given
directory will be parsed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirpath</strong> (<em>unicode</em>) &#8211; Absolute path of the directory to enter</li>
<li><strong>encoding</strong> (<em>unicode</em>) &#8211; Encoding to use for decoding the files</li>
<li><strong>normalization</strong> (<em>unicode</em>) &#8211; Normalization format to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of words of all files in the directory</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.lock">
<span id="nidaba-lock-module"></span><h2>nidaba.lock module<a class="headerlink" href="#module-nidaba.lock" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-lock">
<h3>nidaba.lock<a class="headerlink" href="#nidaba-lock" title="Permalink to this headline">¶</a></h3>
<p>This module contains an NFS-safe locking method that is hopefully interoperable
with anything anybody is going to encounter out there.</p>
<dl class="class">
<dt id="nidaba.lock.lock">
<em class="property">class </em><code class="descclassname">nidaba.lock.</code><code class="descname">lock</code><span class="sig-paren">(</span><em>locked_file</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lock.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A global lock implementation for files on the common storage medium. It is
intended to be mainly used on NFS although it should work on any network
file system.</p>
<dl class="method">
<dt id="nidaba.lock.lock.acquire">
<code class="descname">acquire</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lock.lock.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquires a lock on the selected file. Waits until the lock can be
acquired except when the directory components of the path does not
exist.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.lock.lock.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.lock.lock.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Releases the lock on the selected file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the lock has been releases, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.merge_hocr">
<span id="nidaba-merge-hocr-module"></span><h2>nidaba.merge_hocr module<a class="headerlink" href="#module-nidaba.merge_hocr" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-merge-hocr">
<h3>nidaba.merge_hocr<a class="headerlink" href="#nidaba-merge-hocr" title="Permalink to this headline">¶</a></h3>
<p>A naive algorithm merging multiple hOCR output documents into one.</p>
<dl class="class">
<dt id="nidaba.merge_hocr.Rect">
<em class="property">class </em><code class="descclassname">nidaba.merge_hocr.</code><code class="descname">Rect</code><span class="sig-paren">(</span><em>ul=(0</em>, <em>0)</em>, <em>lr=(0</em>, <em>0)</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.Rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Native python replacement for gameras C++ Rect object.</p>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.close_enough">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">close_enough</code><span class="sig-paren">(</span><em>bbox1</em>, <em>bbox2</em>, <em>fudge=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.close_enough" title="Permalink to this definition">¶</a></dt>
<dd><p>Roughly matches two bboxes roughly using a fudge factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bbox1</strong> (<a class="reference internal" href="#nidaba.merge_hocr.Rect" title="nidaba.merge_hocr.Rect"><em>Rect</em></a>) &#8211; Rect object of a bounding box.</li>
<li><strong>bbox2</strong> (<a class="reference internal" href="#nidaba.merge_hocr.Rect" title="nidaba.merge_hocr.Rect"><em>Rect</em></a>) &#8211; Rect object of a bounding box.</li>
<li><strong>fudge</strong> (<em>float</em>) &#8211; Fudge factor to account for slight variations in word
boundary detection between segmentation engines.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the bounding boxes are sufficiently aligned, False
otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.get_hocr_lines_for_tree">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">get_hocr_lines_for_tree</code><span class="sig-paren">(</span><em>treeIn</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.get_hocr_lines_for_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="nidaba.merge_hocr.hocrLine">
<em class="property">class </em><code class="descclassname">nidaba.merge_hocr.</code><code class="descname">hocrLine</code><a class="headerlink" href="#nidaba.merge_hocr.hocrLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Dummy class associating lines, words with their text and bboxes.</p>
</dd></dl>

<dl class="class">
<dt id="nidaba.merge_hocr.hocrWord">
<em class="property">class </em><code class="descclassname">nidaba.merge_hocr.</code><code class="descname">hocrWord</code><a class="headerlink" href="#nidaba.merge_hocr.hocrWord" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Dummy class associating word text with a bbox.</p>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.merge">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">merge</code><span class="sig-paren">(</span><em>docs</em>, <em>lang</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges multiple hOCR documents into a single one.</p>
<p>First bboxes from all documents are roughly matched, then all matching
bboxes are scored using a spell checker. If no spell checker is available
all matches will be merged without ranking.</p>
<p>The matching is naive, i.e. we just grab the first input document and
assume that all other documents have similar segmentation results. Issues
like high variance in segmentation, especially word boundaries are not
accounted for.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>docs</strong> (<em>iterable</em>) &#8211; A list of storage tuples of input documents</li>
<li><strong>lang</strong> (<em>unicode</em>) &#8211; A language identifier for the spell checker</li>
<li><strong>output</strong> (<em>tuple</em>) &#8211; Storage tuple for the result</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The output storage tuple. Should be the same as <code class="docutils literal"><span class="pre">`output`</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.parse_bbox">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">parse_bbox</code><span class="sig-paren">(</span><em>prop_str</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.parse_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the microformat property string in the hOCR title field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prop_str</strong> (<em>unicode</em>) &#8211; The verbatim property string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A rectangular area described in a bbox field</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#nidaba.merge_hocr.Rect" title="nidaba.merge_hocr.Rect">Rect</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
The property string either did not contain a bbox
definition or this definition was malformed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.score_word">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">score_word</code><span class="sig-paren">(</span><em>lang</em>, <em>word</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.score_word" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple token scoring function similar to the one used in Bruce Robertsons
rigaudon. FIXME: Actually score input tokens.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lang</strong> (<em>unicode</em>) &#8211; Language to use for scoring.</li>
<li><strong>word</strong> (<em>unicode</em>) &#8211; Input token to score</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Value representing the input tokens score. Higher values are
closer to native language words.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.merge_hocr.sort_words_bbox">
<code class="descclassname">nidaba.merge_hocr.</code><code class="descname">sort_words_bbox</code><span class="sig-paren">(</span><em>words</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.merge_hocr.sort_words_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts word bboxes of a document in European reading order (upper left to
lower right). The list is sorted in place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>words</strong> (<em>list</em>) &#8211; List of hocrWord object containing Rects in the field
bbox and the recognized text in the text field.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The sorted word list.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.nidaba">
<span id="nidaba-nidaba-module"></span><h2>nidaba.nidaba module<a class="headerlink" href="#module-nidaba.nidaba" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-nidaba">
<h3>nidaba.nidaba<a class="headerlink" href="#nidaba-nidaba" title="Permalink to this headline">¶</a></h3>
<p>The public API of nidaba. External applications should exclusively use the
objects and methods defined here.</p>
<dl class="class">
<dt id="nidaba.nidaba.Batch">
<em class="property">class </em><code class="descclassname">nidaba.nidaba.</code><code class="descname">Batch</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Creates a series of celery tasks OCRing a set of documents (among other
things).</p>
<p>A batch contains three level of definitions: tasks, ticks, and steps. A
task is a singular operation on an input document, creating a single output
document, e.g. binarization using a particular configuration of an
algorithm or OCR using a particular engine. Multiple tasks executing in
parallel are grouped into a tick and multiple ticks (running sequentially)
are grouped into steps which again are executed sequentially.</p>
<p>The need for steps and ticks arises from two different execution orders
required by a pipeline. Take the following example:</p>
<blockquote>
<div><dl class="docutils">
<dt>step 1:</dt>
<dd>tick a: task 1
tick b: task 2, task 3
tick c: task 4, task 5</dd>
</dl>
</div></blockquote>
<p>The pipeline expands this example to the following sequences run in
parallel (dot product of all ticks):</p>
<blockquote>
<div>task 1 -&gt; task 2 -&gt; task 4
task 1 -&gt; task 2 -&gt; task 5
task 1 -&gt; task 3 -&gt; task 4
task 1 -&gt; task 3 -&gt; task 5</div></blockquote>
<p>It is not garantueed that any particular task in another sequence has
executed successfully before a task in a sequence is run, i.e. it is not
ensured that all task 1&#8217;s have finished before task 2 of the first sequence
is executed, except the task(s) further up the sequence.</p>
<p>Steps on the other hand ensure that all tasks of the previous step have
finished successfully. The output(s) of the expanded ticks is aggregated
into a single list and used as the input of the first tick of the step.
Expanding on the example the following step is added:</p>
<blockquote>
<div><dl class="docutils">
<dt>step 2:</dt>
<dd>tick d: task 6</dd>
</dl>
</div></blockquote>
<p>After the 4 sequence are finished their output is aggregated into a list
[d1, d2, d3, d4] and used as the input of task 6. The final output of task
6 is the output of the pipeline.</p>
<p>The call order to create this example is:</p>
<blockquote>
<div>Batch.add_step()
Batch.add_tick()
Batch.add_task(task_1)
Batch.add_tick()
Batch.add_task(task_2)
Batch.add_task(task_3)
Batch.add_tick()
Batch.add_task(task_4)
Batch.add_task(task_5)
Batch.add_step()
Batch.add_tick()
Batch.add_task(task_6)</div></blockquote>
<dl class="method">
<dt id="nidaba.nidaba.Batch.add_document">
<code class="descname">add_document</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.add_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a document to the batch.</p>
<p>Adds a document tuple to the batch and checks if it exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc</strong> (<em>tuple</em>) &#8211; A standard document tuple.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NidabaInputException</span></code> &#8211;
The document tuple does not refer to a file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.add_step">
<code class="descname">add_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.add_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new step to the batch definition.</p>
<p>Adds a <code class="docutils literal"><span class="pre">step</span></code>, a list of sequentially run ticks to the batch
definition. The output(s) of the last tick of a step is aggregated into
a single list and used as the input of the first tick of the following
step.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.add_task">
<code class="descname">add_task</code><span class="sig-paren">(</span><em>method</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a task to the current tick.</p>
<p>Adds a <code class="docutils literal"><span class="pre">task</span></code>, a single executable task gathering one or more input
documents and returning a single output document, to the current tick.
Multiple jobs are run in parallel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>unicode</em>) &#8211; A task identifier</li>
<li><strong>**kwargs</strong> &#8211; Arguments to the task</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">NidabaTickException</span></code> &#8211;
There is no tick to add a task to.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">NidabaNoSuchAlgorithmException</span></code> &#8211;
Invalid method given.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.add_tick">
<code class="descname">add_tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.add_tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new tick to the current step.</p>
<p>Adds a <code class="docutils literal"><span class="pre">tick</span></code>, a set of tasks running in parallel and sharing common
input documents to the current step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NidabaStepException</span></code> &#8211;
There is no step to add a tick to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.get_errors">
<code class="descname">get_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.get_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves all errors of the batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of tuples containing keyword arguments to the task, a
dictionary containing debug tracking information (i.e. variables
which are given to the tasks as keyword arguments but aren&#8217;t
arguments to the underlying function), and the exception message of
the failure.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.get_extended_state">
<code class="descname">get_extended_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.get_extended_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns extended batch state information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary containing an entry for each subtask.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.get_results">
<code class="descname">get_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.get_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the storage tuples of a successful batch.</p>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.get_state">
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the current state of a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A string containing one of the following states:<p>NONE: The batch ID is not registered in the backend.
FAILURE: Batch execution has failed.
PENDING: The batch is currently running.
SUCCESS: The batch has completed successfully.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(unicode)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.Batch.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.Batch.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the current batch definition.</p>
<p>Expands the current batch definition to a series of celery chains and
executes them asynchronously. Additionally a batch record is written to
the celery result backend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Batch identifier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(unicode)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.nidaba.NetworkSimpleBatch">
<em class="property">class </em><code class="descclassname">nidaba.nidaba.</code><code class="descname">NetworkSimpleBatch</code><span class="sig-paren">(</span><em>host</em>, <em>id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A SimpleBatch object providing the same interface as a SimpleBatch.</p>
<p>It does some basic error checking to minimize network traffic but it won&#8217;t
catch all errors before issuing API requests, especially if the batch is
modified by another process. In these cases exceptions will be raised by
the <code class="docutils literal"><span class="pre">requests</span></code> module.</p>
<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.add_document">
<code class="descname">add_document</code><span class="sig-paren">(</span><em>path</em>, <em>callback</em>, <em>auxiliary=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.add_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a document to the batch.</p>
<p>Uploads a document to the API server and adds it to the batch.</p>
<dl class="docutils">
<dt>..note::</dt>
<dd>Note that this function accepts a standard file system path and NOT
a storage tuple as a client using the web API is not expected to
keep a separate, local storage medium.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>unicode</em>) &#8211; Path to the document</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; <dl class="docutils">
<dt>A function that is called with a</dt>
<dd><code class="docutils literal"><span class="pre">requests_toolbelt.multipart.encoder.MultipartEncoderMonitor</span></code></dd>
</dl>
<p>instance.</p>
</li>
<li><strong>auxiliary</strong> (<em>bool</em>) &#8211; Switch to disable setting the file as an input
document. May be used to upload ground truths,
metadata, and other ancillary files..</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">NidabaInputException</span></code> &#8211;
The document does not refer to a file or the
batch is locked because the run() method has
been called.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.add_task">
<code class="descname">add_task</code><span class="sig-paren">(</span><em>group</em>, <em>method</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a particular task configuration to a task group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group</strong> (<em>unicode</em>) &#8211; Group the task belongs to</li>
<li><strong>method</strong> (<em>unicode</em>) &#8211; Name of the task</li>
<li><strong>kwargs</strong> &#8211; Arguments to the task</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.create_batch">
<code class="descname">create_batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.create_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a batch on the server. Also synchronizes the list of available
tasks and their parameters.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_available_tasks">
<code class="descname">get_available_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_available_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronizes the local task/parameter list with the remote server.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_documents">
<code class="descname">get_documents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of input document for this task.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_extended_state">
<code class="descname">get_extended_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_extended_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the extended batch state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>NidabaInputException if the batch hasn&#8217;t been executed yet.</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_results">
<code class="descname">get_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the storage tuples of a successful batch.</p>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_state">
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the current state of a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A string containing one of the following states:<p>NONE: The batch ID is not registered in the backend.
FAILURE: Batch execution has failed.
PENDING: The batch is currently running.
SUCCESS: The batch has completed successfully.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(unicode)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.get_tasks">
<code class="descname">get_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.get_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the task tree either from the scratchpad or from the pipeline
when already in execution.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.is_running">
<code class="descname">is_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the batch&#8217;s run() method has been successfully called, otherwise False.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.NetworkSimpleBatch.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.NetworkSimpleBatch.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the current batch definition.</p>
<p>Expands the current batch definition to a series of celery chains and
executes them asynchronously. Additionally a batch record is written to
the celery result backend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Batch identifier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(unicode)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.nidaba.SimpleBatch">
<em class="property">class </em><code class="descclassname">nidaba.nidaba.</code><code class="descname">SimpleBatch</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nidaba.nidaba.Batch" title="nidaba.nidaba.Batch"><code class="xref py py-class docutils literal"><span class="pre">nidaba.nidaba.Batch</span></code></a></p>
<p>A simpler interface to the batch functionality that is more amenable to
RESTful task assembly and prevents some incidences of
bullet-in-foot-syndrome.</p>
<p>A SimpleBatch contains only a list of input documents and a series of
tasks. The order of task execution depends on a predefined order, similar
to the <code class="docutils literal"><span class="pre">nidaba</span></code> command-line util.</p>
<p>If no batch identifier is given a new batch will be created.</p>
<p>SimpleBatches always contain a scratchpad (which will be restored
automatically).</p>
<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.add_document">
<code class="descname">add_document</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.add_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a document to the batch.</p>
<p>Adds a document tuple to the batch and checks if it exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc</strong> (<em>tuple</em>) &#8211; A standard document tuple.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NidabaInputException</span></code> &#8211;
The document tuple does not refer to a file
or the batch is locked because the run()
method has been called.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.add_task">
<code class="descname">add_task</code><span class="sig-paren">(</span><em>group</em>, <em>method</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a particular task configuration to a task group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group</strong> (<em>unicode</em>) &#8211; Group the task belongs to</li>
<li><strong>method</strong> (<em>unicode</em>) &#8211; Name of the task</li>
<li><strong>kwargs</strong> &#8211; Arguments to the task</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="nidaba.nidaba.SimpleBatch.get_available_tasks">
<em class="property">static </em><code class="descname">get_available_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.get_available_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all available tasks and their valid argument values.</p>
<p>The return value is an ordered dictionary containing an entry for each
group with a sub-dictionary containing the task identifiers and valid
argument values.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.get_documents">
<code class="descname">get_documents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.get_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of input document for this task.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.get_tasks">
<code class="descname">get_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.get_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the simplified task definition either from the scratchpad or
from the pipeline when already in execution.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.is_running">
<code class="descname">is_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the batch&#8217;s run() method has been successfully called, otherwise False.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.nidaba.SimpleBatch.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.SimpleBatch.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the current batch definition.</p>
<p>Expands the current batch definition to a series of celery chains and
executes them asynchronously. Additionally a batch record is written to
the celery result backend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Batch identifier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(unicode)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="nidaba.nidaba.task_arg_validator">
<code class="descclassname">nidaba.nidaba.</code><code class="descname">task_arg_validator</code><span class="sig-paren">(</span><em>arg_values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidaba.task_arg_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates keyword arguments against the list of valid argument values
contained in the task definition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>NidabaInputException if validation failed.</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.nidabaexceptions">
<span id="nidaba-nidabaexceptions-module"></span><h2>nidaba.nidabaexceptions module<a class="headerlink" href="#module-nidaba.nidabaexceptions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-nidabaexceptions">
<h3>nidaba.nidabaexceptions<a class="headerlink" href="#nidaba-nidabaexceptions" title="Permalink to this headline">¶</a></h3>
<p>All custom exceptions raised by various nidaba modules and packages. Packages
should always define their exceptions here.</p>
<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaAlgorithmException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaAlgorithmException</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaAlgorithmException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaConfigException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaConfigException</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaConfigException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaInputException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaInputException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaInputException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaInvalidParameterException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaInvalidParameterException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaInvalidParameterException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaLeptonicaException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaLeptonicaException</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaLeptonicaException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaNoSuchAlgorithmException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaNoSuchAlgorithmException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaNoSuchAlgorithmException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaNoSuchStorageBin">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaNoSuchStorageBin</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaNoSuchStorageBin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaOcropusException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaOcropusException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaOcropusException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaPluginException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaPluginException</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaPluginException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaStepException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaStepException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaStepException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaStorageViolationException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaStorageViolationException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaStorageViolationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaTEIException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaTEIException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaTEIException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaTaskException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaTaskException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaTaskException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaTesseractException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaTesseractException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaTesseractException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="nidaba.nidabaexceptions.NidabaTickException">
<em class="property">exception </em><code class="descclassname">nidaba.nidabaexceptions.</code><code class="descname">NidabaTickException</code><span class="sig-paren">(</span><em>status_code</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.nidabaexceptions.NidabaTickException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.storage">
<span id="nidaba-storage-module"></span><h2>nidaba.storage module<a class="headerlink" href="#module-nidaba.storage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-storage">
<h3>nidaba.storage<a class="headerlink" href="#nidaba-storage" title="Permalink to this headline">¶</a></h3>
<p>This module contains all file handling/storage management/ID mapping methods.</p>
<dl class="class">
<dt id="nidaba.storage.StorageFile">
<em class="property">class </em><code class="descclassname">nidaba.storage.</code><code class="descname">StorageFile</code><span class="sig-paren">(</span><em>jobID</em>, <em>path</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">io.IOBase</span></code></p>
<p>A file-like interface to a file on the storage medium.</p>
<dl class="attribute">
<dt id="nidaba.storage.StorageFile.abs_path">
<code class="descname">abs_path</code><a class="headerlink" href="#nidaba.storage.StorageFile.abs_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.storage.StorageFile.closed">
<code class="descname">closed</code><a class="headerlink" href="#nidaba.storage.StorageFile.closed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.isatty">
<code class="descname">isatty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.isatty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>size=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.readable">
<code class="descname">readable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.readable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.readall">
<code class="descname">readall</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.readall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.readinto">
<code class="descname">readinto</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.readinto" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.readline">
<code class="descname">readline</code><span class="sig-paren">(</span><em>limit=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.readline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.readlines">
<code class="descname">readlines</code><span class="sig-paren">(</span><em>hint=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.readlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.seek">
<code class="descname">seek</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.seekable">
<code class="descname">seekable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.seekable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.storage.StorageFile.storage_path">
<code class="descname">storage_path</code><a class="headerlink" href="#nidaba.storage.StorageFile.storage_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.tell">
<code class="descname">tell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.writable">
<code class="descname">writable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.writable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.storage.StorageFile.writelines">
<code class="descname">writelines</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.StorageFile.writelines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="nidaba.storage.get_abs_path">
<code class="descclassname">nidaba.storage.</code><code class="descname">get_abs_path</code><span class="sig-paren">(</span><em>jobID</em>, <em>*path</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.get_abs_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute path of a file.</p>
<p>Takes a job ID and a sequence of path components and checks if their
absolute path is in the directory of that particular job ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; A unique job ID</li>
<li><strong>*path</strong> (<em>unicode</em>) &#8211; A list of path components that are concatenated to</li>
<li><strong>the absolute path.</strong> (<em>calculate</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string containing the absolute path of the storage tuple.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">(unicode)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">NidabaStorageViolationException</span></code> &#8211;
The resulting absolute path is
either not in the storage_path of the
nidaba configuration or not in its job
directory.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.get_storage_path">
<code class="descclassname">nidaba.storage.</code><code class="descname">get_storage_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.get_storage_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an absolute path to a storage tuple of the form (id, path).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>path</strong> (<em>unicode</em>) &#8211; A unicode string of the absolute path.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(id, path)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">NidabaStorageViolationException</span></code> &#8211;
The given path can not be converted
into a storage tuple.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">NidabaNoSuchStorageBin</span></code> &#8211;
The given path is not beneath a valid job ID.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.insert_suffix">
<code class="descclassname">nidaba.storage.</code><code class="descname">insert_suffix</code><span class="sig-paren">(</span><em>orig_path</em>, <em>*suffix</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.insert_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts one or more suffixes just before the file extension.</p>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.is_file">
<code class="descclassname">nidaba.storage.</code><code class="descname">is_file</code><span class="sig-paren">(</span><em>jobID</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.is_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a storage tuple is a regular file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; An unique ID associated with a particular job.</li>
<li><strong>path</strong> (<em>unicode</em>) &#8211; A path of a file beneath jobID.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Either True or False depending on the existence of the file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">bool</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">Exception</span></code> &#8211;
Who the fuck knows. The python standard library doesn&#8217;t
document such paltry information as exceptions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.is_valid_job">
<code class="descclassname">nidaba.storage.</code><code class="descname">is_valid_job</code><span class="sig-paren">(</span><em>jobID</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.is_valid_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if filestore has been prepared for a job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobID</strong> (<em>unicode</em>) &#8211; An identifier of a job.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if job is already in the system, False otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Standard python library caveats apply.</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.list_content">
<code class="descclassname">nidaba.storage.</code><code class="descname">list_content</code><span class="sig-paren">(</span><em>jobID</em>, <em>pattern=u'*'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.list_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all files to a job ID, optionally applying a glob-like filter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin</li>
<li><strong>pattern</strong> (<em>unicode</em>) &#8211; glob-like filter to match files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of unicode strings of the matching files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>NidabaNoSuchStorageBin if the job identifer is not known.</strong> &#8211;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.prepare_filestore">
<code class="descclassname">nidaba.storage.</code><code class="descname">prepare_filestore</code><span class="sig-paren">(</span><em>jobID</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.prepare_filestore" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the default filestore to accept files for a job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin to be created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>NidabaStorageViolationException if the job ID already exists.</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.retrieve_content">
<code class="descclassname">nidaba.storage.</code><code class="descname">retrieve_content</code><span class="sig-paren">(</span><em>jobID</em>, <em>documents=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.retrieve_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves data from a single or a list of documents. Returns binary data,
for retrieving unicode text use retrieve_text().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin</li>
<li><strong>documents</strong> (<em>tuple or list of tuples</em>) &#8211; Documents to read in</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary mapping file identifiers to their contents.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Dictionary</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>NidabaNoSuchStorageBin if the job identifer is not known.</strong> &#8211;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.retrieve_text">
<code class="descclassname">nidaba.storage.</code><code class="descname">retrieve_text</code><span class="sig-paren">(</span><em>jobID</em>, <em>documents=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.retrieve_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves UTF-8 encoded text from a single or a list of documents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin</li>
<li><strong>documents</strong> (<em>tuple or list of tuples</em>) &#8211; Documents to read in</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary mapping file identifiers to their contents.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Dictionary</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>NidabaNoSuchStorageBin if the job identifer is not known.</strong> &#8211;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.write_content">
<code class="descclassname">nidaba.storage.</code><code class="descname">write_content</code><span class="sig-paren">(</span><em>jobID</em>, <em>dest</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.write_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data to a document at a destination beneath a jobID. Writes bytes,
does not accept unicode objects; use write_text() for that.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin.</li>
<li><strong>dest</strong> (<em>tuple</em>) &#8211; Documents to write to.</li>
<li><strong>data</strong> (<em>str</em>) &#8211; Data to write.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Length of data written</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nidaba.storage.write_text">
<code class="descclassname">nidaba.storage.</code><code class="descname">write_text</code><span class="sig-paren">(</span><em>jobID</em>, <em>dest</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.storage.write_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes text data encoded as UTF-8 to a file beneath a jobID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobID</strong> (<em>unicode</em>) &#8211; Identifier of the bin.</li>
<li><strong>dest</strong> (<em>tuple</em>) &#8211; Documents to write to.</li>
<li><strong>text</strong> (<em>unicode</em>) &#8211; Data to write.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Length of data written</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.tei">
<span id="nidaba-tei-module"></span><h2>nidaba.tei module<a class="headerlink" href="#module-nidaba.tei" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-tei">
<h3>nidaba.tei<a class="headerlink" href="#nidaba-tei" title="Permalink to this headline">¶</a></h3>
<p>A module for interfacing TEI OCR output</p>
<dl class="class">
<dt id="nidaba.tei.TEIFacsimile">
<em class="property">class </em><code class="descclassname">nidaba.tei.</code><code class="descname">TEIFacsimile</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class encapsulating a TEI XML document following the TEI digital
facsimile guidelines for embedded transcriptions.</p>
<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.add_choices">
<code class="descname">add_choices</code><span class="sig-paren">(</span><em>id</em>, <em>it</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.add_choices" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds alternative interpretations to an element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>unicode</em>) &#8211; Globally unique XML id of the element.</li>
<li><strong>it</strong> (<em>iterable</em>) &#8211; An iterable returning a tuple containing an
alternative reading and an optional confidence value
in the range between 0 and 100.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.add_graphemes">
<code class="descname">add_graphemes</code><span class="sig-paren">(</span><em>it</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.add_graphemes" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a number of graphemes to the current scope (either line or word).
A line or segment has to be created beforehand.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>it</strong> (<em>iterable</em>) &#8211; An iterable returning a tuple containing a glyph
(unicode), and optionally the bounding box of this
glyph (x0, y0, x1, y1) and a recognition confidence
value in the range 0 and 100.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.add_line">
<code class="descname">add_line</code><span class="sig-paren">(</span><em>dim</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.add_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the beginning of a new topographical line and scopes it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dim</strong> (<em>tuple</em>) &#8211; A tuple containing the bounding box (x0, y0, x1, y1)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.add_respstmt">
<code class="descname">add_respstmt</code><span class="sig-paren">(</span><em>name</em>, <em>resp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.add_respstmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a responsibility statement and treats all subsequently added text
as a responsibility of this statement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>unicode</em>) &#8211; Identifier of the process that generated the
output.</li>
<li><strong>resp</strong> (<em>unicode</em>) &#8211; Phrase describing the nature of the process
generating the output.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A unicode string corresponding to the responsibility identifier.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.add_segment">
<code class="descname">add_segment</code><span class="sig-paren">(</span><em>dim</em>, <em>lang=None</em>, <em>confidence=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.add_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the beginning of a new topographical segment in the current
scope. Most often this correspond to a word recognized by an engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<em>tuple</em>) &#8211; A tuple containing the bounding box (x0, y0, x1, y1)</li>
<li><strong>lang</strong> (<em>unicode</em>) &#8211; Optional identifier of the segment language.</li>
<li><strong>confidence</strong> (<em>float</em>) &#8211; Optional confidence value between 0 and 100.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.author">
<code class="descname">author</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.author" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.authority">
<code class="descname">authority</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.authority" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id5"><span class="problematic" id="id6">*</span></a>args, <a href="#id7"><span class="problematic" id="id8">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.clear_graphemes">
<code class="descname">clear_graphemes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.clear_graphemes" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all grapheme zone nodes from the document. Mainly used when
combining page segmentation algorithms extracting graphemes and OCR
engines operating on lexemes. Also resets the current scope to the
first line (and if applicable its first segment).</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.clear_lines">
<code class="descname">clear_lines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.clear_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all &lt;line&gt; nodes from the document.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.clear_segment">
<code class="descname">clear_segment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.clear_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the end of the current topographical segment.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.clear_segments">
<code class="descname">clear_segments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.clear_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all word zone nodes from the document. Mainly used when
combining page segmentation algorithms extracting lexemes (and
graphemes) and OCR engines operating on lines. Also resets the current
scope to the first line.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.description">
<code class="descname">description</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.description" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing a source document&#8217;s path and its dimensions.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.distributor">
<code class="descname">distributor</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.distributor" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id9"><span class="problematic" id="id10">*</span></a>args, <a href="#id11"><span class="problematic" id="id12">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.document">
<code class="descname">document</code><span class="sig-paren">(</span><em>dim</em>, <em>image_url</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.edition">
<code class="descname">edition</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.edition" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id13"><span class="problematic" id="id14">*</span></a>args, <a href="#id15"><span class="problematic" id="id16">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.editor">
<code class="descname">editor</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.editor" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id17"><span class="problematic" id="id18">*</span></a>args, <a href="#id19"><span class="problematic" id="id20">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.fields">
<code class="descname">fields</code><em class="property"> = OrderedDict([('title', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}title')), ('author', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}author', 'ref')), ('editor', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}editor', 'ref')), ('funder', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}funder', 'ref')), ('principal', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}principal', 'ref')), ('sponsor', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}sponsor', 'ref')), ('meeting', ('titleStmt', '/{http://www.tei-c.org/ns/1.0}meeting', 'meeting')), ('edition', ('editionStmt', '/{http://www.tei-c.org/ns/1.0}edition')), ('publisher', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}publisher', 'target')), ('distributor', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}distributor', 'target')), ('authority', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}authority', 'target')), ('idno', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}idno', 'type')), ('pub_place', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}pubPlace')), ('licence', ('publicationStmt', '/{http://www.tei-c.org/ns/1.0}availability/{http://www.tei-c.org/ns/1.0}licence', 'target')), ('series_title', ('seriesStmt', '/{http://www.tei-c.org/ns/1.0}p')), ('note', ('notesStmt', '/{http://www.tei-c.org/ns/1.0}notes')), ('source_desc', ('sourceDesc', '/{http://www.tei-c.org/ns/1.0}p'))])</em><a class="headerlink" href="#nidaba.tei.TEIFacsimile.fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.fileDesc">
<code class="descname">fileDesc</code><em class="property"> = ['titleStmt', 'editionStmt', 'publicationStmt', 'seriesStmt', 'notesStmt', 'sourceDesc']</em><a class="headerlink" href="#nidaba.tei.TEIFacsimile.fileDesc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.funder">
<code class="descname">funder</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.funder" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id21"><span class="problematic" id="id22">*</span></a>args, <a href="#id23"><span class="problematic" id="id24">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.graphemes">
<code class="descname">graphemes</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.graphemes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a reading order sorted list of tuples in the format (x0, y0,
x1, y1, id, text).</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.idno">
<code class="descname">idno</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.idno" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id25"><span class="problematic" id="id26">*</span></a>args, <a href="#id27"><span class="problematic" id="id28">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.lang">
<code class="descname">lang</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.lang" title="Permalink to this definition">¶</a></dt>
<dd><p>The language value of the teiHeader</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.licence">
<code class="descname">licence</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.licence" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id29"><span class="problematic" id="id30">*</span></a>args, <a href="#id31"><span class="problematic" id="id32">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.lines">
<code class="descname">lines</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an reading order sorted list of tuples in the format (x0, y0,
x1, y1, xml id, text).</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.load_hocr">
<code class="descname">load_hocr</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.load_hocr" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts as much information as possible from an hOCR file and converts
it to TEI.</p>
<p>TODO: Write a robust XSL transformation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; File descriptor to read data from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.meeting">
<code class="descname">meeting</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.meeting" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id33"><span class="problematic" id="id34">*</span></a>args, <a href="#id35"><span class="problematic" id="id36">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.note">
<code class="descname">note</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.note" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id37"><span class="problematic" id="id38">*</span></a>args, <a href="#id39"><span class="problematic" id="id40">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.principal">
<code class="descname">principal</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.principal" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id41"><span class="problematic" id="id42">*</span></a>args, <a href="#id43"><span class="problematic" id="id44">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.pub_place">
<code class="descname">pub_place</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.pub_place" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id45"><span class="problematic" id="id46">*</span></a>args, <a href="#id47"><span class="problematic" id="id48">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.publisher">
<code class="descname">publisher</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.publisher" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id49"><span class="problematic" id="id50">*</span></a>args, <a href="#id51"><span class="problematic" id="id52">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an XML document from a file object and populates all recognized
attributes. Also sets the scope to the first line (and if applicable
segment) of the document.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; file object to read from</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.respstmt">
<code class="descname">respstmt</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.respstmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an ordered dictionary of responsibility statements from the XML
document.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.scope_line">
<code class="descname">scope_line</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.scope_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Scopes a particular line for addition of segments/graphemes. Also
disables the current segment scope.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>unicode</em>) &#8211; XML id of the line tag</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>NidabaTEIException if the identifier is unknown</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.scope_respstmt">
<code class="descname">scope_respstmt</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.scope_respstmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Scopes a respStmt for subsequent addition of graphemes/segments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>unicode</em>) &#8211; XML id of the responsibility statement</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>NidabaTEIException if the identifier is unknown</strong> &#8211;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.segments">
<code class="descname">segments</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an reading order sorted list of tuples in the format (x0, y0,
x1, y1, confidence, id, text).</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.series_title">
<code class="descname">series_title</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.series_title" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id53"><span class="problematic" id="id54">*</span></a>args, <a href="#id55"><span class="problematic" id="id56">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.source_desc">
<code class="descname">source_desc</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.source_desc" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id57"><span class="problematic" id="id58">*</span></a>args, <a href="#id59"><span class="problematic" id="id60">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.sponsor">
<code class="descname">sponsor</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.sponsor" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id61"><span class="problematic" id="id62">*</span></a>args, <a href="#id63"><span class="problematic" id="id64">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.tei_ns">
<code class="descname">tei_ns</code><em class="property"> = '{http://www.tei-c.org/ns/1.0}'</em><a class="headerlink" href="#nidaba.tei.TEIFacsimile.tei_ns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.title">
<code class="descname">title</code><a class="headerlink" href="#nidaba.tei.TEIFacsimile.title" title="Permalink to this definition">¶</a></dt>
<dd><p>partial(func, <a href="#id65"><span class="problematic" id="id66">*</span></a>args, <a href="#id67"><span class="problematic" id="id68">**</span></a>keywords) - new function with partial application
of the given arguments and keywords.</p>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the TEI XML document to a file object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; file object to write to</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.write_abbyyxml">
<code class="descname">write_abbyyxml</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.write_abbyyxml" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the TEI document in a format reminiscent of Abbyy FineReader&#8217;s
XML output. Its basic format is:</p>
<p>&lt;text&gt;
&lt;line l=&#8221;0&#8221; r=&#8221;111&#8221; t=&#8221;6&#8221; b=&#8221;89&#8221;&gt;
&lt;charParams l=&#8221;0&#8221; r=&#8221;78&#8221; t=&#8221;6&#8221; b=&#8221;89&#8221; charConfidence=&#8221;76&#8221; wordStart=&#8221;true&#8221;&gt;D&lt;/charParams&gt;
&lt;charParams l=&#8221;86&#8221; r=&#8221;111&#8221; t=&#8221;24&#8221; b=&#8221;89&#8221; charConfidence=&#8221;76&#8221; wordStart=&#8221;false&#8221;&gt;e&lt;/charParams&gt;
&lt;/line&gt;
....
&lt;/text&gt;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; File descriptor to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.write_hocr">
<code class="descname">write_hocr</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.write_hocr" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the TEI document as an hOCR file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; File descriptor to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nidaba.tei.TEIFacsimile.write_text">
<code class="descname">write_text</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.tei.TEIFacsimile.write_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the TEI document as plain text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>file</em>) &#8211; File descriptor to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nidaba.tei.TEIFacsimile.xml_ns">
<code class="descname">xml_ns</code><em class="property"> = '{http://www.w3.org/XML/1998/namespace}'</em><a class="headerlink" href="#nidaba.tei.TEIFacsimile.xml_ns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.uzn">
<span id="nidaba-uzn-module"></span><h2>nidaba.uzn module<a class="headerlink" href="#module-nidaba.uzn" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-uzn">
<h3>nidaba.uzn<a class="headerlink" href="#nidaba-uzn" title="Permalink to this headline">¶</a></h3>
<p>A simple writer/reader interface for UNLV-style zone files.</p>
<dl class="class">
<dt id="nidaba.uzn.UZNReader">
<em class="property">class </em><code class="descclassname">nidaba.uzn.</code><code class="descname">UZNReader</code><span class="sig-paren">(</span><em>f</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.uzn.UZNReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A reader parsing a UNLV zone file from a file object &#8216;f&#8217;.</p>
<dl class="method">
<dt id="nidaba.uzn.UZNReader.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.uzn.UZNReader.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nidaba.uzn.UZNWriter">
<em class="property">class </em><code class="descclassname">nidaba.uzn.</code><code class="descname">UZNWriter</code><span class="sig-paren">(</span><em>f</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.uzn.UZNWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class writing a UNLV zone file.</p>
<dl class="method">
<dt id="nidaba.uzn.UZNWriter.writerow">
<code class="descname">writerow</code><span class="sig-paren">(</span><em>x0</em>, <em>y0</em>, <em>x1</em>, <em>y1</em>, <em>descriptor=u'Text'</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.uzn.UZNWriter.writerow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nidaba.uzn.UZNWriter.writerows">
<code class="descname">writerows</code><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.uzn.UZNWriter.writerows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-nidaba.web">
<span id="nidaba-web-module"></span><h2>nidaba.web module<a class="headerlink" href="#module-nidaba.web" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nidaba-web">
<h3>nidaba.web<a class="headerlink" href="#nidaba-web" title="Permalink to this headline">¶</a></h3>
<p>A web interface for the REST API.</p>
<p>For a documentation of the interface see the <a class="reference internal" href="../api.html#api"><span>API docs</span></a>.</p>
<dl class="function">
<dt id="nidaba.web.get_blueprint">
<code class="descclassname">nidaba.web.</code><code class="descname">get_blueprint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.web.get_blueprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nidaba.web.indexRoute">
<code class="descclassname">nidaba.web.</code><code class="descname">indexRoute</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nidaba.web.indexRoute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-nidaba">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nidaba" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">nidaba</a></h1>



<p class="blurb">An expandable and scalable OCR pipeline</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=openphilology&repo=nidaba&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




    

<p>
<a href="https://travis-ci.org/OpenPhilology/nidaba">
    <img
        alt="https://secure.travis-ci.org/OpenPhilology/nidaba.png?branch=master"
        src="https://secure.travis-ci.org/OpenPhilology/nidaba.png?branch=master"
    >
</a>
</p>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options.html">Option Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tei.html">TEI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Web API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">nidaba package</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2015, Open Greek and Latin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/source/nidaba.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>